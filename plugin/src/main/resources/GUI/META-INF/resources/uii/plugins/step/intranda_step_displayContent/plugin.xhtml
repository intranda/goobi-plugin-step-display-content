<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:composite="http://java.sun.com/jsf/composite"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:x="http://myfaces.apache.org/tomahawk"
    xmlns:intranda="http://xmlns.jcp.org/jsf/composite/compositesPG"
    xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
    xmlns:jsf="http://xmlns.jcp.org/jsf">


    <intranda:box
        boxType="primary"
        boxPadding="true"
        icon="fa-puzzle-piece"
        title="#{msgs[('plugin_').concat(AktuelleSchritteForm.myPlugin.title)]}">
        <h:form>
            <ui:repeat
                var="folder"
                value="#{AktuelleSchritteForm.myPlugin.configuredFolder}">
                <div class="pb-4">
                    <h3>
                        <h:outputText value="#{folder.foldername}" />
                    </h3>

                    <table class="table table-bordered table-striped">

                        <x:dataList
                            var="file"
                            value="#{folder.files}"
                            styleClass="table table-bordered"
                            rowCountVar="count"
                            rowIndexVar="index">
                            <tr>
                                <td
                                    class="w-75"
                                    id="fileName_#{index}">
                                    <a
                                        jsf:action="#{AktuelleSchritteForm.myPlugin.downloadFile(file.toString())}"> 
                                        <span class="fa fa-file"></span> 
                                        <span> 
                                            <h:outputText
                                                    value="#{file.fileName}"
                                                    title="#{file.fileName}" />
                                        </span>
                                    </a>
                                </td>
                                <td class="w-25">
                                    <h:outputText
                                        value="#{AktuelleSchritteForm.myPlugin.getFileSize(file.toString())}"
                                        title="#{AktuelleSchritteForm.myPlugin.getFileSize(file)}" />
                                </td>
                            </tr>
                        </x:dataList>
                    </table>
                </div>
            </ui:repeat>
        </h:form>
    </intranda:box>

</ui:composition>